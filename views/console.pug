extends base

mixin listEntry(_id, fontSize, text, opacity)
    p(id= _id, translate = "no", style=`font-size: ${fontSize}px ; \n opacity: ${opacity}`)=text 

block head
    style(type='text/css').
        #racetrack {
        user-select: none;
        margin-bottom: 0%;
        }

        #tail {
        user-select: none;
        margin-top: 0%;
        overflow: hidden;
        }

        #formx {
        margin: 0.5rem auto;
        position: relative;
        }

        #border {
        position: absolute;
        top: 0;
        left: 0;
        }

        #attempt {
        font-size: 3rem;
        background-color: #000000;
        text-align: center;
        width: 23rem;
        border: none;
        outline: none;
        margin: 0 0;
        border-radius: 15px;
        }



        .point {
        background-color: hsl(0, 0%, 100%);
        position: absolute;
        }

        .options_container {
        cursor: pointer;
        width: 100%;
        height: 5rem;
        align-items: right;
        }

        .options_column {
        margin-top: 10rem;
        position: absolute;
        right: 1rem;
        display: flex;
        flex-direction: column;
        
        }


        .block {
        border: 1px solid #ffffff;
        border-radius: 1rem;
        width: 5.5rem;
        height: 5.5rem;
        margin-bottom: 0.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-left: auto;
        }

       

        .bigAndBold {
        font-size: 2.5em;
        font-weight: bold;
        user-select: none;
        }

        @media only screen and (max-width: 37.5rem) {
        .options_column {
        margin-top: 7.5rem!important;
        right: 0.25rem!important;
        }
        .block{
        border-radius: 0.5rem!important;
        }
        .block:not(:first-child) {
        width: 2.75rem!important;
        height: 2.75rem!important;
        margin-bottom: 0.25rem!important;
        }
        .o_icon{
        width: 2rem!important;
        }
        .bigAndBold {
        font-size: 1.25em!important;
        }
        }

block content
    main.main.top
        div.options_container
            div.options_column
                table#stats.block
                    tr 
                        td.leftcolumn due
                        td#due.rightcolumn=data.stats.due
                    tr 
                        td.leftcolumn steps
                        td#steps.rightcolumn=data.stats.steps
                    tr 
                        td.leftcolumn time
                        td#timeplaying.rightcolumn=data.stats.time
                div#soundBox.block
                    if(data.sound)
                        img#sound.o_icon(src=`/img/soundOn.png`)
                    else
                        img#sound.o_icon(src=`/img/soundOff.png`)
                div#blurredBox.block
                    if(data.blurred)
                        img#blurred.o_icon(src=`/img/blurredOn.png`)
                    else
                        img#blurred.o_icon(src=`/img/blurredOff.png`)
                div#timer1020Box.block
                    if(data.timer)
                        div#timer1020.bigAndBold 10s
                    else
                        div#timer1020.bigAndBold 20s
        span#racetrack
            -for (let i = 19; i >= 0; --i)
                +listEntry(`rc${i}`,50*Math.pow(0.8,i),data.raceTrack[i],1)
        form#formx
            input#attempt(autocomplete="off", value='')
            div#border
        span#tail
            -for (let i = 0; i<=3; ++i)
                +listEntry(`te${i}`,50*Math.pow(0.8,-i-1),data.tail[i],1 / Math.pow(1.7, i))
        span.outlined
            p(style='visibility: hidden', id='solutions')= JSON.stringify(data.attempt.solutions)
            p(style='visibility: hidden', id='tries')= data.tries
            