extends base

mixin listEntry(_id, fontSize, text, opacity)
    p(id= _id, translate = "no", style=`font-size: ${fontSize}px ; \n opacity: ${opacity}`)=text 

block head
    style(type='text/css').
        #racetrack {
        user-select: none;
        margin-bottom: 0%;
        /* visibility: hidden; */
        }

        #tail {
        user-select: none;
        margin-top: 0%;
        overflow: hidden;
        }

        #formx {
        margin: 10px auto;
        position: relative;
        }

        #border {
        position: absolute;
        top: 0;
        left: 0;
        }

        #attempt {
        font-size: 50px;
        background-color: #000000;
        color: hsl(0, 0%, 100%);
        text-align: center;
        width: 430px;
        border: none;
        outline: none;
        margin: 0 0;
        border-radius: 15px;
        }
        @media only screen and (max-width: 430px) {
        #attempt {
            width: 100%;
        }
        }

        .point {
        background-color: hsl(0, 0%, 100%);
        position: absolute;
        }

        .consoleBlock {
        margin-top: 4em;
        cursor: pointer;
        width: 100%;
        display: flex;
        justify-content: flex-end;
        align-items: flex-start;
        }

        .column {
        margin-top: 100px;
        position: absolute;
        top: 10%; /* Adjust as needed */
        right: 20px; /* Adjust as needed */
        }

        .block {
        border: 1px solid hsl(0, 0%, 100%);
        border-radius: 15px;
        width: 90px;
        height: 90px;
        margin-bottom: 10px; /* Adjust spacing between squares */
        display: flex;
        justify-content: center;
        align-items: center;
        }

        .bigAndBold {
        font-size: 2.5em;
        font-weight: bold;
        user-select: none;
        }

block content
    main.main.top
        div.consoleBlock
            div.column
                table#stats.block
                    tr 
                        td.leftcolumn due
                        td#due.rightcolumn=data.stats.due
                    tr 
                        td.leftcolumn steps
                        td#steps.rightcolumn=data.stats.steps
                    tr 
                        td.leftcolumn time
                        td#timeplaying.rightcolumn=data.stats.time
                div#soundBox.block
                    if(data.sound)
                        img#sound(src=`/img/soundOn.png`)
                    else
                        img#sound(src=`/img/soundOff.png`)
                div#blurredBox.block
                    if(data.blurred)
                        img#blurred(src=`/img/blurredOn.png`)
                    else
                        img#blurred(src=`/img/blurredOff.png`)
                div#timer1020Box.block
                    if(data.timer)
                        div#timer1020.bigAndBold 10s
                    else
                        div#timer1020.bigAndBold 20s
        span#racetrack
            -for (let i = 19; i >= 0; --i)
                +listEntry(`rc${i}`,50*Math.pow(0.8,i),data.raceTrack[i],1)
        form#formx
            input#attempt(autocomplete="off", value='')
            div#border
        span#tail
            -for (let i = 0; i<=3; ++i)
                +listEntry(`te${i}`,50*Math.pow(0.8,-i-1),data.tail[i],1 / Math.pow(1.7, i))
        span.outlined
            p(style='visibility: hidden', id='solutions')= JSON.stringify(data.attempt.solutions)
            p(style='visibility: hidden', id='tries')= data.tries
            