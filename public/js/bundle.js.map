{"version":3,"file":"bundle.js","sources":["alerts.mjs","index.mjs","consoleFunctions.mjs","login.mjs"],"sourcesContent":["export const hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n// type is 'success' or 'error'\r\nexport const showAlert = (type, msg) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document\r\n    .querySelector('body')\r\n    .insertAdjacentHTML('afterbegin', markup);\r\n  window.setTimeout(hideAlert, 5000);\r\n};\r\n","// import axios from 'axios';\r\nimport { login, logout, signup } from './login.mjs';\r\nimport { answerAccepted } from './consoleFunctions.mjs';\r\nimport { showAlert } from './alerts.mjs';\r\n\r\n////////////////////////////////////////////////////////////////////\r\n// Console elements\r\nconst raceTrack = [],\r\n  tail = [];\r\nfor (i = 0; i < 10; ++i)\r\n  raceTrack.push(document.getElementById(`rc${i}`));\r\nfor (i = 0; i < 4; ++i)\r\n  tail.push(document.getElementById(`te${i}`));\r\n\r\nlet form = document.getElementById('attempt'),\r\n  formColor,\r\n  responseTimer, //countdown timer for how long left to respond\r\n  intervalTimer, //time management\r\n  // let timePlaying; //time management\r\n  solutions,\r\n  tries,\r\n  rect,\r\n  pointR,\r\n  a,\r\n  b,\r\n  radius,\r\n  perimeter;\r\n\r\nif (form) {\r\n  form.style.borderRadius = '15px';\r\n  // rect = form.getBoundingClientRect();\r\n  rect = { left: 0, top: 0 };\r\n  pointR = 2;\r\n  a = form.clientWidth;\r\n  b = form.clientHeight;\r\n  radius = form.style.borderRadius.slice(0, -2) * 1;\r\n  perimeter =\r\n    b * 2 + a * 2 - radius * 8 + 2 * Math.PI * radius;\r\n}\r\n\r\nconst elt = (name, attrs, ...children) => {\r\n  let dom = document.createElement(name);\r\n  for (let attr of Object.keys(attrs)) {\r\n    dom.setAttribute(attr, attrs[attr]);\r\n  }\r\n  for (let child of children) {\r\n    dom.appendChild(child);\r\n  }\r\n  return dom;\r\n};\r\n\r\nlet border = document.getElementById('border');\r\nlet rel, angle;\r\n\r\n//////////////////////////////////////////////////////////\r\n// CONSOLE FUNCTIONS\r\nconst startTheFormTimer = (timer = 10) => {\r\n  clearTimeout(responseTimer);\r\n  showBorder();\r\n  hideTheBorderInSeconds();\r\n  responseTimer = setTimeout(\r\n    wrongAnswerReturned,\r\n    timer * 1000,\r\n  );\r\n};\r\n\r\nconst showBorder = () => {\r\n  for (let i = 1; i <= perimeter; ++i)\r\n    document.getElementById(`point${i}`).style.visibility =\r\n      'visible';\r\n};\r\n\r\nconst hideTheBorderInSeconds = (delay = 2, timer = 8) => {\r\n  clearInterval(intervalTimer);\r\n  let j = 1,\r\n    i = 1;\r\n  const step = (timer * 1000) / perimeter;\r\n  function hideBorderPointWithDelay() {\r\n    const delayEnd = (delay * 1000) / step;\r\n    if (j > delayEnd && i <= perimeter) {\r\n      document.getElementById(\r\n        `point${i}`,\r\n      ).style.visibility = 'hidden';\r\n      i = i + 1;\r\n    }\r\n    j = j + 1;\r\n    // timePlaying += step;\r\n  }\r\n  intervalTimer = setInterval(\r\n    hideBorderPointWithDelay,\r\n    step,\r\n  );\r\n};\r\n\r\nconst wrongAnswerReturned = () => {\r\n  if (tries > 1) {\r\n    wrongWiggle();\r\n    tries -= 1;\r\n    updateColor();\r\n    startTheFormTimer();\r\n  } else {\r\n    wrongWiggle();\r\n    showBorder();\r\n    clearInterval(intervalTimer);\r\n    clearTimeout(responseTimer);\r\n    sendResultAndUpdate(false);\r\n    form.value = '';\r\n  }\r\n};\r\n\r\nconst updateBorderColor = () => {\r\n  for (let i = 1; i <= perimeter; ++i)\r\n    document.getElementById(\r\n      `point${i}`,\r\n    ).style.backgroundColor = formColor;\r\n};\r\n\r\nconst updateColor = () => {\r\n  if (tries == 2) formColor = 'hsl(32, 92%, 65%)';\r\n  else if (tries == 1) formColor = 'hsl(0, 84%, 71%)';\r\n  else formColor = 'hsl(0, 0%, 100%)';\r\n\r\n  document\r\n    .getElementById('attempt')\r\n    .setAttribute('style', `color: ${formColor}`);\r\n  updateBorderColor();\r\n};\r\n\r\nfunction speakText(text) {\r\n  const utterance = new SpeechSynthesisUtterance(text);\r\n  utterance.lang = 'pt-BR';\r\n  speechSynthesis.speak(utterance);\r\n}\r\n\r\nconst sendResultAndUpdate = async (correct) => {\r\n  try {\r\n    const res = await axios.post(\r\n      '/api/v1/gameData/submitAttempt',\r\n      { correct },\r\n    );\r\n\r\n    if (res.data.status === 'success') {\r\n      updateRaceTrack(res.data);\r\n      solutions = res.data.data.attempt.solutions;\r\n      tries = res.data.data.tries;\r\n      updateColor();\r\n      speakText(res.data.data.attempt.target);\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    // showAlert('error', err.response.msg);\r\n  }\r\n};\r\n\r\nfunction wrongWiggle() {\r\n  let angle = Math.PI / 2;\r\n  function animate(time, lastTime) {\r\n    if (lastTime != null) {\r\n      angle += (time - lastTime) * 0.1;\r\n    }\r\n\r\n    form.style.top = Math.sin(angle) * 5 + 'px';\r\n    form.style.left = Math.cos(angle) * 5 + 'px';\r\n    if (angle < 10 * Math.PI)\r\n      requestAnimationFrame((newTime) =>\r\n        animate(newTime, time),\r\n      );\r\n  }\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nconst updatePageValues = async () => {\r\n  try {\r\n    const res = await axios.post(\r\n      '/api/v1/gameData/sendGameState',\r\n    );\r\n\r\n    if (res.data.status === 'success') {\r\n      updateRaceTrack(res.data);\r\n      solutions = res.data.data.attempt.solutions;\r\n      tries = res.data.data.tries;\r\n      updateColor();\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    // showAlert('error', err.response.msg);\r\n  }\r\n};\r\n\r\nconst updateRaceTrack = (res) => {\r\n  for (i = 0; i < 9; ++i)\r\n    raceTrack[i + 1].innerText = res.data.raceTrack[i];\r\n  raceTrack[0].innerText = res.data.attempt.target;\r\n  for (i = 0; i < 4; ++i)\r\n    tail[i].innerText = res.data.tail[i] || '';\r\n};\r\n\r\nfunction drawFormBorder() {\r\n  //draw the border inside the forLoop\r\n  for (i = 1; i <= perimeter; ++i) {\r\n    if (i < a / 2 - radius) {\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n    left:${rect.left + a / 2 + i - pointR / 2}px ; \r\n    top:${rect.top - pointR / 2}px;\r\n    `,\r\n        }),\r\n      );\r\n    } else if (\r\n      i <\r\n      a / 2 - radius + (Math.PI * radius) / 2\r\n    ) {\r\n      angle = Math.PI / 2 - (i - a / 2 + radius) / radius;\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${\r\n        rect.left +\r\n        a -\r\n        radius +\r\n        radius * Math.cos(angle) -\r\n        pointR / 2\r\n      }px ; \r\n      top:${\r\n        rect.top +\r\n        radius -\r\n        radius * Math.sin(angle) -\r\n        pointR / 2\r\n      }px;\r\n      `,\r\n        }),\r\n      );\r\n    } else if (\r\n      i <\r\n      a / 2 - 3 * radius + (Math.PI * radius) / 2 + b\r\n    ) {\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${rect.left + a - pointR / 2}px ; \r\n      top:${\r\n        rect.top +\r\n        radius +\r\n        i -\r\n        (a / 2 - radius + (Math.PI * radius) / 2) -\r\n        pointR / 2\r\n      }px;\r\n      `,\r\n        }),\r\n      );\r\n    } else if (\r\n      i <\r\n      a / 2 - 3 * radius + Math.PI * radius + b\r\n    ) {\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${\r\n        rect.left +\r\n        a -\r\n        radius +\r\n        radius *\r\n          Math.cos(\r\n            (i -\r\n              (a / 2 -\r\n                3 * radius +\r\n                (Math.PI * radius) / 2 +\r\n                b)) /\r\n              radius,\r\n          ) -\r\n        pointR / 2\r\n      }px ; \r\n      top:${\r\n        rect.top +\r\n        b -\r\n        radius +\r\n        radius *\r\n          Math.sin(\r\n            (i -\r\n              (a / 2 -\r\n                3 * radius +\r\n                (Math.PI * radius) / 2 +\r\n                b)) /\r\n              radius,\r\n          ) -\r\n        pointR / 2\r\n      }px;\r\n      `,\r\n        }),\r\n      );\r\n    } else if (\r\n      i <\r\n      (3 * a) / 2 - 5 * radius + Math.PI * radius + b\r\n    ) {\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${\r\n        rect.left +\r\n        a -\r\n        radius -\r\n        i +\r\n        a / 2 -\r\n        3 * radius +\r\n        Math.PI * radius +\r\n        b -\r\n        pointR / 2\r\n      }px ; \r\n      top:${rect.top + b - pointR / 2}px;\r\n      `,\r\n        }),\r\n      );\r\n    } else if (\r\n      i <\r\n      (3 * a) / 2 -\r\n        5 * radius +\r\n        (3 * Math.PI * radius) / 2 +\r\n        b\r\n    ) {\r\n      rel =\r\n        i -\r\n        ((3 * a) / 2 - 5 * radius + Math.PI * radius + b); // rel is i -(section start)\r\n      angle = Math.PI / 2 + rel / radius;\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${\r\n        rect.left +\r\n        radius +\r\n        radius * Math.cos(-angle) -\r\n        pointR / 2\r\n      }px ; \r\n      top:${\r\n        rect.top +\r\n        b -\r\n        radius -\r\n        radius * Math.sin(-angle) -\r\n        pointR / 2\r\n      }px;\r\n      `,\r\n        }),\r\n      );\r\n    } else if (\r\n      i <\r\n      (3 * a) / 2 -\r\n        7 * radius +\r\n        (3 * Math.PI * radius) / 2 +\r\n        2 * b\r\n    ) {\r\n      rel =\r\n        i -\r\n        ((3 * a) / 2 -\r\n          5 * radius +\r\n          (3 * Math.PI * radius) / 2 +\r\n          b); // rel is i -(section start)\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${rect.left - pointR / 2}px ; \r\n      top:${rect.top + b - radius - rel - pointR / 2}px;\r\n      `,\r\n        }),\r\n      );\r\n    } else if (\r\n      i <\r\n      (3 * a) / 2 -\r\n        7 * radius +\r\n        2 * Math.PI * radius +\r\n        2 * b\r\n    ) {\r\n      rel =\r\n        i -\r\n        ((3 * a) / 2 -\r\n          7 * radius +\r\n          (3 * Math.PI * radius) / 2 +\r\n          2 * b); // rel is i -(section start)\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${\r\n        rect.left +\r\n        radius -\r\n        radius * Math.cos(rel / radius) -\r\n        pointR / 2\r\n      }px ; \r\n      top:${\r\n        rect.top +\r\n        radius -\r\n        radius * Math.sin(rel / radius) -\r\n        pointR / 2\r\n      }px;\r\n      `,\r\n        }),\r\n      );\r\n    } else {\r\n      rel =\r\n        i -\r\n        ((3 * a) / 2 -\r\n          7 * radius +\r\n          2 * Math.PI * radius +\r\n          2 * b); // rel is i -(section start)\r\n      border.appendChild(\r\n        elt('div', {\r\n          class: 'point',\r\n          id: `point${i}`,\r\n          style: `width:${pointR}px; height:${pointR}px;\r\n      left:${rect.left + radius + rel - pointR / 2}px ; \r\n      top:${rect.top - pointR / 2}px;\r\n      `,\r\n        }),\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////\r\n// Console Functionality\r\n// 1) Loading the page and drawing the console\r\n\r\n//  a) Draw the border\r\nif (form) {\r\n  drawFormBorder();\r\n\r\n  //  b) Update page values\r\n  updatePageValues();\r\n}\r\n\r\n//  c) Add the EnterKey functionality\r\nif (form)\r\n  form.addEventListener('keydown', async (e) => {\r\n    if (e.key == 'Enter') {\r\n      e.preventDefault();\r\n      // If the answer is right\r\n      if (answerAccepted(solutions, form.value)) {\r\n        sendResultAndUpdate(true);\r\n        startTheFormTimer();\r\n        form.value = '';\r\n        speakText();\r\n\r\n        // If the answer is wrong\r\n      } else {\r\n        wrongAnswerReturned();\r\n        speakText();\r\n      }\r\n    }\r\n  });\r\n\r\n////////////////////////////////////////////////////////////////////\r\n// Login page elements\r\nconst loginForm = document.getElementById('loginform');\r\nconst signupForm = document.getElementById('signupform');\r\nconst logoutBtn = document.getElementById('logoutBtn');\r\n\r\n//////////\r\n\r\nif (loginForm)\r\n  loginForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById('email').value;\r\n    const password =\r\n      document.getElementById('password').value;\r\n    login(email, password);\r\n  });\r\n\r\nif (signupForm)\r\n  signupForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const username =\r\n      document.getElementById('username').value;\r\n    const email = document.getElementById('email').value;\r\n    const password =\r\n      document.getElementById('password').value;\r\n    const passwordConfirm = document.getElementById(\r\n      'passwordConfirm',\r\n    ).value;\r\n    signup(username, email, password, passwordConfirm);\r\n  });\r\n\r\nif (logoutBtn)\r\n  logoutBtn.addEventListener('click', (e) => {\r\n    logout();\r\n  });\r\n\r\n// Form Timer Management\r\n\r\n// function padTo2Digits(num) {\r\n//   return num.toString().padStart(2, \"0\");\r\n// }\r\n\r\n// function convertMsToTime(milliseconds) {\r\n//   let seconds = Math.floor(milliseconds / 1000);\r\n//   let minutes = Math.floor(seconds / 60);\r\n//   let hours = Math.floor(minutes / 60);\r\n\r\n//   seconds = seconds % 60;\r\n//   minutes = minutes % 60;\r\n//   if (hours > 0)\r\n//     return `${hours}:${padTo2Digits(minutes)}:${padTo2Digits(seconds)}`;\r\n//   else return `${minutes}:${padTo2Digits(seconds)}`;\r\n// }\r\n\r\n// let sessionTimer = setInterval(updateSessionTimerDisplay, 1000);\r\n\r\n// function updateSessionTimerDisplay() {\r\n//   sessionStats.Time = convertMsToTime(timePlaying);\r\n//   document.getElementById(\"sessionStats-Time-value\").innerText =\r\n//     sessionStats.Time;\r\n// }\r\n\r\n// function timeToMS(timeIn) {\r\n//   if (timeIn == 0) return 0;\r\n//   let arr = timeIn.split(\":\");\r\n//   if (arr.length == 3)\r\n//     return (\r\n//       arr[0] * 60 * 60 * 1000 +\r\n//       Number(arr[1]) * 60 * 1000 +\r\n//       Number(arr[2]) * 1000\r\n//     );\r\n//   else return arr[0] * 60 * 1000 + Number(arr[1]) * 1000;\r\n// }\r\n\r\n//set colours of points using strikes and .class color\r\n","export const answerAccepted = (solutions, answer) => {\r\n  function normalize(inputString) {\r\n    const accentsMap = {\r\n      á: 'a',\r\n      é: 'e',\r\n      í: 'i',\r\n      ó: 'o',\r\n      ú: 'u',\r\n      à: 'a',\r\n      è: 'e',\r\n      ì: 'i',\r\n      ò: 'o',\r\n      ù: 'u',\r\n      â: 'a',\r\n      ê: 'e',\r\n      î: 'i',\r\n      ô: 'o',\r\n      û: 'u',\r\n      ã: 'a',\r\n      õ: 'o',\r\n      ñ: 'n',\r\n      ç: 'c',\r\n    };\r\n\r\n    inputString = inputString.toLowerCase();\r\n\r\n    return inputString\r\n      .replace(\r\n        /[áéíóúàèìòùâêîôûãõñç]/gi,\r\n        function (matched) {\r\n          return accentsMap[matched];\r\n        },\r\n      )\r\n      .replace(\r\n        /['\"!@#$%¨&*\\[\\]\\(\\)_\\-`´\\{\\}^~<,>.:;?/\\+\\-\\=]/g,\r\n        '',\r\n      );\r\n  }\r\n\r\n  const normalized = solutions.map((sol) => normalize(sol));\r\n  return normalized.includes(normalize(answer));\r\n};\r\n","// import axios from 'axios';\r\nimport { showAlert } from './alerts.mjs';\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await axios.post('/api/v1/users/login', {\r\n      email,\r\n      password,\r\n    });\r\n    if (res.data.status === 'success')\r\n      showAlert('success', 'Logged in successfully');\r\n    window.setTimeout(() => {\r\n      location.assign('/');\r\n    }, 1500);\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.msg);\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await axios.get('/api/v1/users/logout');\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Logged out successfully!');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'Error logging out! Try again.');\r\n  }\r\n};\r\n\r\nexport const signup = async (\r\n  username,\r\n  email,\r\n  password,\r\n  passwordConfirm,\r\n) => {\r\n  try {\r\n    const res = await axios.post('/api/v1/users/signup', {\r\n      username,\r\n      email,\r\n      password,\r\n      passwordConfirm,\r\n    });\r\n    if (res.data.status === 'success')\r\n      showAlert('success', 'New account created! Log in!');\r\n    window.setTimeout(() => {\r\n      location.assign('/login');\r\n    }, 1500);\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.msg);\r\n  }\r\n};\r\n"],"names":["hideAlert","el","document","querySelector","parentElement","removeChild","showAlert","type","msg","markup","insertAdjacentHTML","window","setTimeout","raceTrack","tail","i","push","getElementById","formColor","responseTimer","intervalTimer","solutions","tries","rect","pointR","a","b","radius","perimeter","form","style","borderRadius","left","top","clientWidth","clientHeight","slice","Math","PI","elt","name","attrs","children","dom","createElement","attr","Object","keys","setAttribute","child","appendChild","rel","angle","border","startTheFormTimer","timer","clearTimeout","showBorder","hideTheBorderInSeconds","wrongAnswerReturned","visibility","delay","clearInterval","j","step","setInterval","wrongWiggle","updateColor","sendResultAndUpdate","value","backgroundColor","updateBorderColor","speakText","text","utterance","SpeechSynthesisUtterance","lang","speechSynthesis","speak","async","correct","res","axios","post","data","status","updateRaceTrack","attempt","target","err","console","log","requestAnimationFrame","animate","time","lastTime","sin","cos","newTime","innerText","class","id","drawFormBorder","updatePageValues","addEventListener","e","key","preventDefault","answer","normalize","inputString","accentsMap","toLowerCase","replace","matched","map","sol","includes","answerAccepted","loginForm","signupForm","logoutBtn","email","password","location","assign","response","login","username","passwordConfirm","signup","get","logout"],"mappings":"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"}