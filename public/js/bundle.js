const t=()=>{const t=document.querySelector(".alert");t&&t.parentElement.removeChild(t)},e=(e,i)=>{t();const a=`<div class="alert alert--${e}">${i}</div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",a),window.setTimeout(t,1e3)},a=t=>{const e={"á":"a","é":"e","í":"i","ó":"o","ú":"u","à":"a","è":"e","ì":"i","ò":"o","ù":"u","â":"a","ê":"e","î":"i","ô":"o","û":"u","ã":"a","õ":"o","ñ":"n","ç":"c"};return(t=t.toLowerCase()).replace(/[áéíóúàèìòùâêîôûãõñç]/gi,(function(t){return e[t]})).replace(/['"!@#$%¨&*\[\]\(\)_\-`´\{\}^~<,>.:;?/\+\-\=]/g,"")},n=(t,e,...i)=>{let a=document.createElement(t);for(let t of Object.keys(e))a.setAttribute(t,e[t]);for(let t of i)a.appendChild(t);return a},s=()=>{document.getElementById("dictionarynotification").setAttribute("style","visibility: hidden")},o=()=>{document.getElementById("dictionarynotification").setAttribute("style","visibility: visible")},d=async t=>{const i=t.target.parentNode.firstChild.innerText;"success"===(await axios.post("/api/v1/tickets",{target:i})).data.status?e("success","This word has been added to your queue"):e("error","This word is already in your queue")},l=[],c=[];for(i=0;i<10;++i)l.push(document.getElementById(`rc${i}`));for(i=0;i<4;++i)c.push(document.getElementById(`te${i}`));let r,p,u,h,m,y,g,$,f,v,x,I=document.getElementById("attempt"),w=0;I&&(I.style.borderRadius="15px",y={left:0,top:0},g=2,$=I.clientWidth,f=I.clientHeight,v=1*I.style.borderRadius.slice(0,-2),x=2*f+2*$-8*v+2*Math.PI*v);let E,M,b=document.getElementById("border");const B=(t=10)=>{clearTimeout(p),T(),C(),p=setTimeout(P,1e3*t)},T=()=>{for(let t=1;t<=x;++t)document.getElementById(`point${t}`).style.visibility="visible"},C=(t=2,e=8)=>{clearInterval(u);let i=1,a=1;const n=1e3*e/x;u=setInterval((function(){i>1e3*t/n&&a<=x&&(document.getElementById(`point${a}`).style.visibility="hidden",a+=1),i+=1,w+=n}),n)},P=()=>{m>1?(S(),m-=1,L(),B()):(S(),T(),clearInterval(u),clearTimeout(p),A(!1),I.value="")},L=()=>{r=2==m?"hsl(32, 92%, 65%)":1==m?"hsl(0, 84%, 71%)":"hsl(0, 0%, 100%)",document.getElementById("attempt").setAttribute("style",`color: ${r}`),(()=>{for(let t=1;t<=x;++t)document.getElementById(`point${t}`).style.backgroundColor=r})()};function k(t){const e=new SpeechSynthesisUtterance(t);e.lang="pt-BR",speechSynthesis.speak(e)}const A=async t=>{try{const e=await axios.post("/api/v1/gameData/submitAttempt",{correct:t,time:w});w=0,"success"===e.data.status&&(q(e.data),h=e.data.data.attempt.solutions,m=e.data.data.tries,L(),k(e.data.data.attempt.target))}catch(t){console.log(t)}};function S(){let t=Math.PI/2;requestAnimationFrame((function e(i,a){null!=a&&(t+=.1*(i-a)),I.style.top=5*Math.sin(t)+"px",I.style.left=5*Math.cos(t)+"px",t<10*Math.PI&&requestAnimationFrame((t=>e(t,i)))}))}const q=t=>{for(i=0;i<9;++i)l[i+1].innerText=t.data.raceTrack[i];for(l[0].innerText=t.data.attempt.target,i=0;i<4;++i)c[i].innerText=t.data.tail[i]||""};I&&(function(){for(i=1;i<=x;++i)i<$/2-v?b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n    left:${y.left+$/2+i-g/2}px ; \n    top:${y.top-g/2}px;\n    `})):i<$/2-v+Math.PI*v/2?(M=Math.PI/2-(i-$/2+v)/v,b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left+$-v+v*Math.cos(M)-g/2}px ; \n      top:${y.top+v-v*Math.sin(M)-g/2}px;\n      `}))):i<$/2-3*v+Math.PI*v/2+f?b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left+$-g/2}px ; \n      top:${y.top+v+i-($/2-v+Math.PI*v/2)-g/2}px;\n      `})):i<$/2-3*v+Math.PI*v+f?b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left+$-v+v*Math.cos((i-($/2-3*v+Math.PI*v/2+f))/v)-g/2}px ; \n      top:${y.top+f-v+v*Math.sin((i-($/2-3*v+Math.PI*v/2+f))/v)-g/2}px;\n      `})):i<3*$/2-5*v+Math.PI*v+f?b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left+$-v-i+$/2-3*v+Math.PI*v+f-g/2}px ; \n      top:${y.top+f-g/2}px;\n      `})):i<3*$/2-5*v+3*Math.PI*v/2+f?(E=i-(3*$/2-5*v+Math.PI*v+f),M=Math.PI/2+E/v,b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left+v+v*Math.cos(-M)-g/2}px ; \n      top:${y.top+f-v-v*Math.sin(-M)-g/2}px;\n      `}))):i<3*$/2-7*v+3*Math.PI*v/2+2*f?(E=i-(3*$/2-5*v+3*Math.PI*v/2+f),b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left-g/2}px ; \n      top:${y.top+f-v-E-g/2}px;\n      `}))):i<3*$/2-7*v+2*Math.PI*v+2*f?(E=i-(3*$/2-7*v+3*Math.PI*v/2+2*f),b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left+v-v*Math.cos(E/v)-g/2}px ; \n      top:${y.top+v-v*Math.sin(E/v)-g/2}px;\n      `}))):(E=i-(3*$/2-7*v+2*Math.PI*v+2*f),b.appendChild(n("div",{class:"point",id:`point${i}`,style:`width:${g}px; height:${g}px;\n      left:${y.left+v+E-g/2}px ; \n      top:${y.top-g/2}px;\n      `})))}(),(async()=>{try{const t=await axios.post("/api/v1/gameData/sendGameState");"success"===t.data.status&&(q(t.data),h=t.data.data.attempt.solutions,m=t.data.data.tries,L())}catch(t){console.log(t)}})()),I&&I.addEventListener("keydown",(async t=>{"Enter"==t.key&&(t.preventDefault(),((t,e)=>t.map((t=>a(t))).includes(a(e)))(h,I.value)?(A(!0),B(),I.value="",k()):(P(),k()))}));const D=document.getElementById("loginform"),N=document.getElementById("signupform"),j=document.getElementById("logoutBtn");D&&D.addEventListener("submit",(t=>{t.preventDefault();(async(t,i)=>{try{"success"===(await axios.post("/api/v1/users/login",{email:t,password:i})).data.status&&e("success","Logged in successfully"),window.setTimeout((()=>{location.assign("/")}),1500)}catch(t){e("error",t.response.data.msg)}})(document.getElementById("email").value,document.getElementById("password").value)})),N&&N.addEventListener("submit",(t=>{t.preventDefault();(async(t,i,a,n)=>{try{"success"===(await axios.post("/api/v1/users/signup",{username:t,email:i,password:a,passwordConfirm:n})).data.status&&e("success","New account created! Log in!"),window.setTimeout((()=>{location.assign("/login")}),1500)}catch(t){e("error",t.response.data.msg)}})(document.getElementById("username").value,document.getElementById("email").value,document.getElementById("password").value,document.getElementById("passwordConfirm").value)})),j&&j.addEventListener("click",(t=>{(async()=>{try{"success"===(await axios.get("/api/v1/users/logout")).data.status&&(e("success","Logged out successfully!"),window.setTimeout((()=>{location.assign("/")}),1500))}catch(t){e("error","Error logging out! Try again.")}})()}));const R=document.getElementById("searchdictionary"),_=()=>(async t=>{const i=a(t);try{const t=await axios.get(`/api/v1/pt-en-dictionary?pattern=^${i}`),e=document.getElementById("dictionarytable");e.removeChild(e.firstChild);const a=document.createElement("tbody");e.appendChild(a),console.log(t.data.data);let l,c=0;for(let e of t.data.data.dicEntries)l=n("tr",{id:`row${c}`,class:"nav__el"},n("td",{id:`target${c}`,class:"leftcolumn",translate:"no"},document.createTextNode(e.target)),n("td",{class:"rightcolumn",translate:"no"},document.createTextNode(e.solutions.toString().split(",").join(" // "))),n("td",{class:"addfield"},document.createTextNode("+"))),a.appendChild(l),l.addEventListener("mouseover",(t=>{o()})),l.addEventListener("mouseleave",(t=>{s()})),l.addEventListener("click",(t=>{d(t)})),c+=1}catch(t){e("error","Somethings not right")}})(R.value);R&&(_(),R.addEventListener("keydown",(async t=>{clearTimeout(p),p=setTimeout(_,500)})));
//# sourceMappingURL=bundle.js.map
